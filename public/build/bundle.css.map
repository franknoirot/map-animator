{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "../../src/App.svelte",
    "../../src/Map.svelte",
    "../../src/components/ColorPicker.svelte"
  ],
  "sourcesContent": [
    "<script>\n\timport Map from './Map.svelte'\n\timport ColorPicker from './components/ColorPicker.svelte'\n\timport { mergedGeoData, reportGeoData, fillerGeoData } from './zipToGeo.js'\n\t\n\tconst datasets = [mergedGeoData,reportGeoData,fillerGeoData]\n\tconst datasetLabels = ['Merged', 'Report', 'Filler']\n\tlet datasetIndex = 0\n\t$: dotPromise = datasets[datasetIndex]\n\tlet showDots = false\n\n\tlet animParams = {\n\t\t\tanimLength: 5.8,\n\t\t\tanimSpread: 0.18,\n\t\t\tdotSize: 3.2,\n\t\t\tmaxGrowthFactor: 2.03,\n\t\t\tgrowthDuration: .24,\n\t\t}\n\tconst rangeUI = [\n\t\t{param: 'animLength', label: 'Duration', labelSuffix: ' s', min: 1, max: 10, step: 0.1,},\n\t\t{param: 'animSpread', label: 'Spread', labelSuffix: '', min: 0, max: 1, step: 0.01,},\n\t\t{param: 'dotSize', label: 'Base Dot Size', labelSuffix: '', min: 1, max: 7, step: 0.1,},\n\t\t{param: 'maxGrowthFactor', label: 'Max Dot Size', labelSuffix: 'x', min: 1.1, max: 4.5, step: 0.01,},\n\t\t{param: 'growthDuration', label: 'Growth Duration', labelSuffix: ' s', min: .05, max: .5, step: 0.01,},\n\t]\n\n\tconst colors = {\n\t\tdotColor: {r: 252, g: 193, b: 59},\n\t\tbgColor: {r: 75, g:112, b:179},\n\t\tstateColor: {r: 2, g: 16, b: 54},\n\t\ttextColor: {r: 234, g: 245, b:255},\n\t}\n\tconst colorUI = [\n\t\t{param: 'dotColor', label: 'Dot Color'},\n\t\t{param: 'bgColor', label: 'Background Color'},\n\t\t{param: 'stateColor', label: 'State Color'},\n\t\t{param: 'textColor', label: 'Text Color'},\n\t]\n\n\t// dotPromise.then(data => console.log('data fetched! ', data)) // For debugging\n</script>\n\n<Map bind:showDots dotPromise={dotPromise}\n\t{...animParams}\t{...colors}></Map>\n<section>\n\t<button class='show-dots' on:click={() => showDots = !showDots}>{(showDots) ? 'Hide' : 'Show'} Dots</button>\n\t{#each rangeUI as range, i (i)}\n\t<label class='range-group'>{ range.label }\n\t\t<input type=\"range\" min={range.min} max={range.max} step={range.step} value={ animParams[range.param] }\n\t\ton:input={e => animParams[range.param] = e.target.value}>\n\t\t{animParams[range.param] + range.labelSuffix}\n\t</label>\n\t{/each}\n\t<label style='white-space: nowrap;'>Dataset\n\t\t<input type='range' min='0' max='2' step='1' value='0' on:input={e => datasetIndex = e.target.value}>\n\t\t{#await datasets[datasetIndex]}\n\t\t{:then dataset}\n\t\t{ datasetLabels[datasetIndex] + ` (${dataset.features.length} dots)`}\n\t\t{/await}\n\t</label>\n</section>\n<section>\n\t{#each colorUI as picker, i (i)}\n\t<div>\n\t\t<ColorPicker bind:rgb={ colors[picker.param] }>\n\t\t\t<p>{ picker.label }</p>\n\t\t</ColorPicker>\n\t</div>\n\t{/each}\n</section>\n\n<style>\n\tsection {\n\t\tmargin: 2em 0;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 50% 50%;\n\t\tgrid-gap: 1em 1.5em;\n\t\twidth: 95vw;\n\t\tmax-width: 660px;\n\t}\n\n\t.show-dots {\n\t\tgrid-column: 1 / 3;\n\t}\n\n\t.range-group {\n\t\tdisplay: block;\n\t\twidth: max-content;\n\t\tmargin: 1em 0;\n\t}\n</style>",
    "<script>\n\timport * as d3 from 'd3'\n\timport * as topojson from 'topojson-client'\n\timport { labelTweaks, matchLabelToTweak } from './labelTweaks'\n\n\texport let showDots = false\n\texport let animLength = 6\n\texport let animSpread = 0.08\n\texport let dotSize = 3\n\texport let maxGrowthFactor = 1.5\n\texport let growthDuration = .2\n\texport let dotPromise = null\n\n\texport let bgColor = {r: 75, g: 112, b: 179}\n\texport let stateColor = {r: 2, g: 16, b: 54}\n\texport let textColor = {r: 234, g: 245, b:255}\n\texport let dotColor = {r: 252, g: 193, b: 59}\n\n\tlet statePromise = fetch('./assets/states.json').then(res => res.json())\n\tlet width = 1388\n\tlet height = 781\n\t$: viewBox = `0 0 ${width} ${height}`\n\n\tconst projection = d3.geoAlbersUsa()\n\t\t.scale(width*1.1)\n\t\t.translate([width / 2, height / 2]);\n\n\tconst path = d3.geoPath()\n\t\t.projection(projection);\n\n\tconst sortFn = (a, b) => a.geometry.coordinates[0] - b.geometry.coordinates[0]\n</script>\n\n<svg id=\"map\" viewBox={viewBox}\n\t\tclass=\"{showDots ? 'play-anim' : ''}\"\n\t\ton:click={() => showDots = !showDots}\n\t\tstyle={`--bg: rgb(${bgColor.r},${bgColor.g},${bgColor.b});\n\t\t\t\t\t --state: rgb(${stateColor.r},${stateColor.g},${stateColor.b});\n\t\t\t\t\t --text: rgb(${textColor.r},${textColor.g},${textColor.b});\n\t\t\t\t\t --dots: rgb(${dotColor.r},${dotColor.g},${dotColor.b});\n\t\t\t\t\t --max-growth-factor: ${maxGrowthFactor};\n\t\t\t\t\t --growth-duration: ${growthDuration}s;`}>\n{#await statePromise}\n\t<text x='50%' y='50%' style='transform: translate(-50%, -50%);'>Loading...</text>\n{:then states}\n\t<g class=\"states\">\n\t\t{#each topojson.feature(states, states.objects.usStates).features as state, i (`state-${i}`)}\n\t\t<path d={path(state)} class=\"state\" data-abbr=\"{state.properties.STATE_ABBR}\"></path>\n\t\t{/each}\n\t</g>\n\t{#if dotPromise}\n\t<g class=\"dots\">\n\t\t{#await dotPromise}\n\t\t<text></text>\n\t\t{:then dots}\n\t\t\t{#each dots.features.sort(sortFn) as dot, i (i)}\n\t\t<path d={path.pointRadius(dotSize)(dot)} class=\"zipcode\" id={'dot-'+i}\n\t\t\tstyle={`--delay:${(i+(Math.random()-.5)*dots.features.length*animSpread)/dots.features.length*animLength}s; --cx:${projection(dot.geometry.coordinates)[0]}px; --cy:${projection(dot.geometry.coordinates)[1]}px;`}></path>\n\t\t\t{/each}\n\t\t{/await}\n\t</g>\n\t{/if}\n\t<g class=\"state-labels\">\n\t\t{#each topojson.feature(states, states.objects.usStates).features as state, i (`state-label-${i}`)}\n\t\t<text x={path.centroid(state)[0]  + ((matchLabelToTweak(state) !== null) ? matchLabelToTweak(state)[0] : 0) }\n\t\t\t\t  y={path.centroid(state)[1]  + ((matchLabelToTweak(state) !== null) ? matchLabelToTweak(state)[1] : 0) }>{state.properties.STATE_ABBR}</text>\n\t\t{/each}\n\t</g>\n{/await}\n</svg>\n\n<style>\n\t#map {\n\t\t--bg: rgb(75, 112, 179);\n\t\t--state: rgb(2, 16, 54);\n\t\t--text: rgb(234, 245, 255);\n\t\t--dots: rgb(252, 193, 59);\n\t\tbackground: var(--bg);\n\t\twidth: 80vw;\n\t}\n\n\ttext {\n\t\tfill: var(--text);\n\t\tfont-size: 1em;\n\t\ttext-transform: uppercase;\n\t\ttransform: translate(-.5em, .25em);\n\t\tuser-select: none;\n\t}\n\n\t.states {\n\t\tfill: var(--state);\n\t\t/* transition: all .12s ease-in-out; */\n\t\tstroke: var(--bg);\n\t\tstroke-width: 0.5px;\n\t}\n\n\t.state {\n\t\tposition: relative;\n\t}\n\t.state::before {\n\t\tposition: absolute;\n\t\tcontent: var(--abbr);\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tcolor: white;\n\t}\n\n\t.zipcode {\n\t\t--delay: 0s;\n\t\topacity: 0;\n\t\tfill: var(--dots);\n\t\ttransform-origin: var(--cx) var(--cy);\n\t\ttransform: translateY(1vh);\n\t}\n\n\t.play-anim .zipcode {\n\t\t animation: appear var(--growth-duration) var(--delay) linear forwards;\n\t\tfilter: drop-shadow(2px 0 2px hsla(45deg, 75%, 85%, 0.15));\n\t}\n\n\t@keyframes appear {\n\t\t0% { \n\t\t\topacity: 0;\n\t\t\ttransform: translateY(1vh) scale(0);\n\t\t}\n\t\t75% {\n\t\t\ttransform: translateY(-.25vh) scale(var(--max-growth-factor));\n\t\t}\n\t\t100% {\n\t\t\topacity: 1;\n\t\t\ttransform: translateY(0) scale(1);\n\t\t}\n\t}\n</style>",
    "<script>\n  import {RGBToHSL} from '../colorFns'\n  export let rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  }\n  let reveal = false\n  $: hsl = RGBToHSL(rgb)\n</script>\n\n<div on:click={() => reveal = !reveal} class={`dropdown ${(reveal) ? 'reveal' : 'hide'}`}\n      style={`--bg: hsl(${hsl.h}deg, ${hsl.s}%, ${hsl.l}%);\n              --bg-invert: hsl(${hsl.h}deg, ${100 - hsl.l}%, ${(hsl.l > 50) ? 3 : 97}%);`}>\n  <slot>\n    <p>Color Value</p>\n  </slot>\n</div>\n<div class={(reveal) ? 'revealed' : 'hidden'}>\n  <label>Red\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.r}>\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.r}>\n  </label>\n  <label>Green\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.g}>\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.g}>\n  </label>\n  <label>Blue\n    <input type=\"range\" min=\"0\" max=\"255\" bind:value={rgb.b}>\n    <input type=\"number\" min=\"0\" max=\"255\" bind:value={rgb.b}>\n  </label>\n</div>\n\n<style>\n  div {\n    max-width: 720px;\n    width: fit-content;\n  }\n\n  .dropdown {\n    position: relative;\n    background: var(--bg);\n    color: var(--bg-invert);\n    padding: 0 3em 0 2em;\n    user-select: none;\n  }\n  .dropdown:hover {\n    cursor: pointer;\n  }\n  .dropdown::after {\n    content: '>';\n    position: absolute;\n    display: block;\n    right: 1em;\n    top: 50%;\n    transform-origin: 50% 50%;\n    transform: translateY(-50%);\n    transition: all .12s ease-in-out;\n  }\n  .reveal::after {\n    transform: translateY(-50%) rotate(90deg);\n  }\n\n  .hidden {\n    display: none;\n    height: 0;\n    opacity: 0;\n    transition: all .12s ease-in-out;\n  }\n  .revealed {\n    display: inline-block;\n    height: auto;\n    opacity: 1;\n  }\n</style>"
  ],
  "names": [],
  "mappings": "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"
}